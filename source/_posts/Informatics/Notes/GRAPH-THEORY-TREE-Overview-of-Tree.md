---
title: 图论 - 树 - 树概述
tags:
  - '[I] 图论'
  - '[I] 树'
categories:
  - Informatics
  - Notes
date: 2022-08-04 14:17:19
---


一生二，二生三，三生万物

<!--more-->

## 树概述

这是一棵树。

{% asset_img tree1.png '"" "树 1"' %}

世人所见，往往是枝繁叶茂，亭亭如盖。

而除却繁叶，尚有盘虬卧龙，苍劲有力。

枝，扮演着树的碳链；叶，承载着树的氢与氧。枝与叶，交织出了一棵树。枝与叶，也就是一棵树。

以审视的目光，再看枝与叶。

{% asset_img tree2.png '"" "树 2"' %}

是不是有些似曾相识？

~~现在有一只蚂蚁，从树根的位置开始爬，每到一个分岔路口都有等概率爬向三条分支，那么最后到达每片叶子或者说枝条的末端处的概率分别是多少？~~错了错了。

在科学的眼中，这棵树关于具体形态的概念早已不复存在，唯留下枝与叶的连接关系维持着树的基本骨架。

我们将枝条的末端以及枝条连接处的节点都视为图的「结点」，将枝条视为「边」，那么一棵比较简单的树大概是这样的。

{% asset_img tree3.png '"" "树 3"' %}

## 有根树

我们讨论树的时候，习惯将其倒过来看，再给结点编上号，就像这样。

{% asset_img tree4.png '"" "树 4"' %}

我们将只有散发出去的边的结点称为**根结点**，没有散发出去的边的结点称为**叶结点**，树的边被称为是**枝条**。在有根树中，我们姑且认为枝条是向下的有向边，其实这并不重要。枝条的起点结点被称为是终点结点的**父结点**，反过来被称为**子结点**。

由于家谱是比较常见的树形结构，所以我们可以用家庭关系来称呼结点关系。比如父节点也可以称为父亲，子结点也可以称为儿子，**祖先**指的是父亲和父亲的祖先，**后代**指的是儿子和儿子的后代，**兄弟**指的是拥有同一个父亲的结点。

当然，你知道，家谱中第一位先祖一定也会有父亲，那么这位先祖在另外一个家谱中可能就不再是第一位。类推，树中任意一个结点都可以作为根结点另开一棵树。比如我们就以图中 2 号结点为根结点另开一棵树，其实这棵树就藏在图中。

{% asset_img tree5.png '"" "树 5"' %}

这样藏在树里的树我们称为原树的**子树**。~~（禁止套娃）~~

可见，一旦树的形态确定，就可以凭借子树的根结点确定一整棵子树。

结点的**深度**指从根结点到该结点的路径长度，树的**高度**指最深的点的深度。

我们称一棵树退化成**链**，当且仅当所有结点均只有不超过 1 个儿子。

多棵树，构成**森林**。

## 无根树

上面介绍的树指定了树根，如果没有指定树根，也可以称为树，我们称为无根树。

无根树的严谨定义是，有 $n$ 个结点和 $n-1$ 条边的连通图，或者说是无环连通图。无根树的处理，一般会任意指定一个结点为根结点。

## 树的存储

存储树一般需要存储父亲和儿子的信息。父亲好说，根结点没有父亲，其余各结点有且仅有一个父亲。接下来处理儿子。

其中一个方法是邻接表，没错就是存储图的用邻接表，依然 ``vector`` 和链表均可。

另一个方法是左儿子右兄弟表示法。一方面可以理解为将普通树转化为了二叉树，。另一方面可以理解为，由于除根结点外每个结点都只有一个父亲，那么就可以在该结点的信息中同时存储从父亲到自己的枝条的信息，比如链表实现的邻接表中的 ``nxt``。我们用一个值记录该结点的长子，用另外一个结点记录比该结点较小的下一个兄弟，类似 ``nxt``。

## 树的遍历

树的遍历也有 DFS 和 BFS。值得注意的是，我们每次通过一个结点拓展它的子结点，是一定不会发生重复访问的情况的。

在树上的 BFS 遍历包含一个非常直观的特点，即当同一层的结点都访问完过后才会访问下一层的结点。BFS 遍历的访问顺序为 BFS 序。

## 二叉树

**二叉树**是比较特殊的树，一个结点最多只会有 2 个子结点，因此我们存树时可以选择存储左儿子和右儿子的方法。

{% asset_img binarytree1.png '"" "二叉树 1"' %}

**满二叉树**指的是除最后一层外，每一层的结点均有 2 个儿子，而最后一层的结点均为叶结点的二叉树。

{% asset_img binarytree2.png '"" "二叉树 2"' %}

由此可得，满二叉树第 $i$ 层的结点个数为 $2^n$，前 $i$ 层的结点总个数为 $2^{i+1}-1$。

**完全二叉树**指的是在满二叉树，或者最后一层删除最后几个叶结点的满二叉树。

{% asset_img binarytree3.png '"" "二叉树 3"' %}

我们一般按 BFS 序来给完全二叉树的结点编号，在这种情况下结点编号是有规律的。如果一个结点为 $i$，那么它的父亲为 $\left\lfloor\frac{i}{2}\right\rfloor$，它的左儿子为 $2i$，它的右儿子为 $2i+1$。

二叉树又产生了三种特有的遍历方式，前序遍历、中序遍历、后序遍历，实质都是 DFS。前序遍历指先访问根结点，再访问左、右子树；中序遍历指先访问左子树，再访问根结点，最后访问右子树；后序遍历指先访问左、右子树，最后访问根结点。因此生成了三种不同的遍历序列，并且可以知二求一。

普通树转化为二叉树大概就是左儿子右兄弟表示法。

## 总结

树与子树，一生二，二生三，三生万物。

——禁止套娃。
